!function(){"use strict";function e(e){var t=e.getBoundingClientRect();return t.bottom>0&&t.right>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)}function t(){i.call(r,function(t){e(t.parentNode)&&(t.style.transform="translate3d(0,"+Math.ceil(.5*a)+"px, 0)",t.style.msTransform="translate3d(0,"+Math.ceil(.5*a)+"px, 0)",t.style.mozTransform="translate3d(0,"+Math.ceil(.5*a)+"px, 0)",t.style.webkitTransform="translate3d(0,"+Math.ceil(.5*a)+"px, 0)")})}function n(){a=window.pageYOffset,window.requestAnimationFrame(t)}var a=0,i=Array.prototype.forEach,r=document.querySelectorAll(".parallax-image"),o=document.querySelectorAll(".site-nav a.page-link"),s=document.URL,d=document.querySelector(".ajax-form");window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},i.call(o,function(e){var t=e.getAttribute("href");s.indexOf(t)>-1&&e.classList.add("active")}),"undefined"!==d&&d&&d.addEventListener("submit",function(e){e.preventDefault(),e.stopPropagation();var t=new XMLHttpRequest,n=new FormData(d),a=d.querySelector('button[type="submit"]'),r={},o=document.createElement("div");r.success="Das hat geklappt. Vielen Dank f√ºr die Nachricht!",r.error="Oje, da ist leider etwas schiefgelaufen.",o.className="message",d.appendChild(o),i.call(d.querySelectorAll("input, select, textarea"),function(e){e.getAttribute("disabled")||""===e.value||(n[e.getAttribute("name")]=e.value)}),console.log(n),t.onreadystatechange=function(){1===t.readyState&&a.classList.add("sending"),4===t.readyState&&(a.classList.remove("sending"),200===t.status?(o.innerHTML=r.success,o.classList.add("success")):(o.innerHTML=r.error,o.classList.add("error")))},t.open("POST",d.getAttribute("action"),!0),t.setRequestHeader("accept","application/json"),t.send(n)}),window.addEventListener("scroll",function(){a=window.pageYOffset,window.requestAnimationFrame(t)},!1),window.addEventListener("load",function(){n()}),window.addEventListener("resize",function(){n()})}(window);