!function(){"use strict";function e(e){var t=e.getBoundingClientRect();return t.bottom>0&&t.right>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)}function t(){a.call(r,function(t){e(t.parentNode)&&(t.style.transform="translate3d(0,"+Math.ceil(.5*i)+"px, 0)",t.style.msTransform="translate3d(0,"+Math.ceil(.5*i)+"px, 0)",t.style.mozTransform="translate3d(0,"+Math.ceil(.5*i)+"px, 0)",t.style.webkitTransform="translate3d(0,"+Math.ceil(.5*i)+"px, 0)")})}function n(){i=window.pageYOffset,window.requestAnimationFrame(t)}var i=0,a=Array.prototype.forEach,r=document.querySelectorAll(".parallax-image"),s=document.querySelectorAll(".site-nav a.page-link"),o=document.URL,d=document.querySelector(".ajax-form");window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},a.call(s,function(e){var t=e.getAttribute("href");o.indexOf(t)>-1&&e.classList.add("active")}),"undefined"!==d&&d&&d.addEventListener("submit",function(e){e.preventDefault(),e.stopPropagation();var t=new XMLHttpRequest,n=new FormData(d),i=d.querySelector('button[type="submit"]'),a={},r=document.createElement("div");a.success="Das hat geklappt. Vielen Dank f√ºr die Nachricht!",a.error="Oje, da ist leider etwas schiefgelaufen.",r.className="message",d.appendChild(r),t.onreadystatechange=function(){1===t.readyState&&i.classList.add("sending"),4===t.readyState&&(i.classList.remove("sending"),200===t.status?(i.setAttribute("disabled","disabled"),r.innerHTML=a.success,r.classList.add("success")):(r.innerHTML=a.error,r.classList.add("error")))},t.open("POST",d.getAttribute("action"),!0),t.setRequestHeader("accept","application/json"),t.send(n)}),window.addEventListener("scroll",function(){i=window.pageYOffset,window.requestAnimationFrame(t)},!1),window.addEventListener("load",function(){n()}),window.addEventListener("resize",function(){n()})}(window);